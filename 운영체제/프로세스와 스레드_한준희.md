# 프로세스와 스레드

스레드와 프로세스의 차이

프로세스(process) : 컴퓨터에서 실행되고 있는 프로그램, 프로그램으로부터 인스턴스화된 것, CPU 스케줄링의 대상이 되는 작업(task)이라는 용어와 거의 같은 의미로 쓰임

스레드 : 프로세스 내 작업의 흐름

프로그램이 메모리에 올라가면 프로세스가 되는 인스턴스화가 일어나고, 이후 운영체제의 CPU 스케줄러에 따라 CPU가 프로세스를 실행한다.

## 프로세스의 상태

프로세스의 상태는 여러가지 값을 갖는다.

1.  생성 상태
2.  대기 상태
3.  대기 중단 상태
4.  실행 상태
5.  중단 상태
6.  일시 중단 상태
7.  종료 상태

## 프로세스의 메모리 구조

프로세스의 메모리 구조

<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F477f2f76-82e9-4933-95fa-9f24444ab3e8%2FScreen_Shot_2020-07-15_at_20.05.23.png&blockId=d00e2bb7-7628-48f4-877e-cf7cf89256f3" width="300" height="400" />

위에서부터 스택, 힙, 데이터영역(BSS Segment, Data segment), 코드영역(code segment)로 나눠진다. 스택은 위 주소부터 할당되고 힙은 아래 주소부터 할당된다.

### 스택

지역변수, 매개변수, 함수가 저장되고 컴파일 시에 크기가 결정되고 동적이다.
재귀적으로 함수가 호출되면서 동적으로 크기가 늘어날 수 있는데, 이때 힙과 스택의 메모리 영역이 겹치면 안되기 때문에 힙과 스택 사이의 공간을 비워놓는다.

### 힙

동적할당때 사용되며 런타임시 크기가 결정된다.
동적인 특성을 가진다.

### 데이터 영역

전역변수, 정적변수가 저장되고, 정적인 특징을 갖는 프로그램이 종료되면 사라지는 변수가 들어있는 영역이다.

- BSS 영역 : 초기화가 되지 않은 변수가 0으로 초기화되어 저장됨
- Data 영역 (Data segment): 0이 아닌 다른 값으로 할당된 변수들이 저장됨

### 코드영역

프로그램에 내장되어있는 소스 코드가 들어가는 영역이다. 수정불가능한 기계어로 저장되어있으며 정적인 특징을 가진다.

## 멀티프로세싱

하나 이상의 일을 병렬로 처리할 수 있으며 특정 프로세스에 문제가 발생되더라도 다른 프로세스를 이용해서 처리할 수 있으므로 신뢰성이 높은 강점이 있다.

## 스레드와 멀티스레딩

### 스레드

프로세스의 실행 가능한 가장 작은 단위이다. 프로세스는 여러 스레드를 가질 수 있다.

### 멀티스레딩

프로세스 내 작업을 여러 개의 스레드, 멀티 스레드로 처리하는 기법이고 스레드끼리 서로 자원을 공유하기 때문에 효율성이 높다.

그러나 한 스레드에 문제가 생기면 다른 스레드에도 영향을 끼쳐 스레드로 이루어져 있는 프로세스에 영향을 줄 수 있는 단점이 있다.
